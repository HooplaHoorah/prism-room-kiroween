<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Prism Room â€” Kiroween Kernel (v1.3.9 HUD)</title>
  <link rel="stylesheet" href="style.css"/>
</head>
<body class="crt-off">
  <div id="app" class="grid">
    <header class="pane header">
      <div class="title">THE PRISM ROOM <span class="vanity">Â© 2025 HOOPLA HOORAH. ALL RIGHTS RESERVED.</span> <span class="badge">kernel demo</span></div>
      <div class="tagline">Red was just the beginning.</div>
    </header>

    <section id="status" class="pane status">
      <div>ECHO <span id="echo">1</span></div>
      <div>Fear <span class="bar"><span id="fear_fill"></span></span><span id="fear_pct">46%</span></div>
      <div>Resolve <span class="bar"><span id="res_fill"></span></span><span id="res_pct">41%</span></div>
      <div>Roll <span id="roll">03:30</span></div>
      <div>Curse <span id="curse">12%</span></div>
      <div class="hotkeys">Hotkeys: <kbd>Alt</kbd>+<kbd>I</kbd> Inventory â€¢ <kbd>Alt</kbd>+<kbd>H</kbd> Help â€¢ <kbd>Alt</kbd>+<kbd>R</kbd> Reset</div>
      <div class="tools">
        <button id="btnReplay" class="btn" title="Replay last event">ðŸ”” Last</button>
        <button id="btnSettings" class="btn">âš™ Settings</button>
      </div>
    </section>

    <!-- Event banner -->
    <section class="pane banner-wrap">
      <div id="eventBanner" class="event-banner" aria-live="polite">
        <span id="bannerText"></span>
        <button id="bannerClose" class="banner-close" title="Dismiss">Ã—</button>
      </div>
    </section>

    <main class="pane content">
      <section id="leftCol" class="left">
        <div id="log" aria-live="polite" aria-label="Game output"></div>
      </section>
      <aside id="rightCol" class="right hud">
        <h3>HUD</h3>
        <div class="hud-block">
          <h4>Session Stats</h4>
          <div class="row"><label>Time to first twist:</label><span id="stat_ttt">â€”</span></div>
          <div class="row"><label>Attempts:</label><span id="stat_attempts">0</span></div>
          <div class="row"><label>Parser fails:</label><span id="stat_fails">0</span></div>
          <div class="row"><label>Hints offered / taken:</label><span id="stat_hints">0 / 0</span></div>
          <div class="row"><label>Room state:</label><span id="stat_room">In progress</span></div>
        </div>
        <div class="hud-block">
          <h4>Status</h4>
          <div class="row"><label>Last event:</label><span id="hud_last">â€”</span></div>
          <div class="row"><label>Suggestion:</label><span id="hud_suggest">â€”</span></div>
        </div>
        <div class="hud-block">
          <h4>Today</h4>
          <ul class="tasks" id="tasks">
            <li>LISTEN Ã— 1</li>
            <li>Solve 1 room</li>
            <li>Fuse 1 artifact</li>
          </ul>
        </div>
        <div class="hud-block">
          <h4>Quick Tips</h4>
          <div id="chips" class="chips"></div>
        </div>
      </aside>
    </main>

    <section class="pane prompt">
      <div id="prompt">
        <span class="caret">&gt;</span>
        <input id="input" type="text" autocomplete="off" spellcheck="false" aria-label="Command input" placeholder="type a command (HELP for verbs)"/>
      </div>
    </section>

    <footer class="pane footer">
      <div>Try: <code>LOOK ROOM</code> â€¢ <code>LISTEN</code> â€¢ <code>LIGHT CANDLE WITH MATCHBOOK</code> â€¢ <code>LIGHT PRISM</code> â€¢ <code>PULL MIRROR SHARD</code> â€¢ <code>FUSE</code> â€¢ <code>USE ECHO LENS</code></div>
    </footer>
  </div>

  <!-- Settings Modal -->
  <dialog id="settingsModal">
    <form method="dialog" id="settingsForm">
      <h3>Settings</h3>
      <label><input type="checkbox" id="chkAudio" checked/> Audio pings</label>
      <label><input type="checkbox" id="chkFlash" checked/> Visual flash on Echo</label>
      <label><input type="checkbox" id="chkCRT" checked/> CRT skin (scanlines + vignette)</label>
      <label><input type="checkbox" id="chkTube" checked/> Tube power-on morph on Echo</label>
      <label><input type="checkbox" id="chkPhotosafe"/> Photosensitive mode (reduce/disable motion & flashes)</label>
      <hr/>
      <strong>Hints</strong>
      <label><input type="checkbox" id="chkHints" checked/> Enable hints</label>
      <label class="indent"><input type="checkbox" id="chkNudges" checked/> Nudge on parser fail</label>
      <label class="indent"><input type="checkbox" id="chkChips" checked/> Suggest next action chips</label>
      <label class="indent"><input type="checkbox" id="chkEvents" checked/> Auto-hint after major events</label>
      <menu>
        <button value="cancel" class="btn">Close</button>
        <button id="btnReset" value="default" class="btn btn-warn" title="Reset room">Reset Room</button>
      </menu>
      <p class="tiny">Photosensitive mode disables flash/morph and reduces any animated effects.</p>
    </form>
  </dialog>

  <script src="script.js"></script>

  <!-- Settings Gear + Slideout Panel (v1.3.x) -->
</body>
</html>
